<link rel="stylesheet" href="{{ 'component-productsgrid.css' | asset_url }}" media="print" onload="this.media='all'">
<noscript>{{ 'component-productsgrid.css' | asset_url | stylesheet_tag }}</noscript>
<script src="{{ 'productgradi.js' | asset_url }}" defer="defer"></script>



    


{{ collections['coleccionprod'].handle | json }}
<div class='productgrid_container'>
    {% for product in collections['coleccionprod'].products %}
        <div class='product_container'>
            <h3>{{ product.title }}</h3>
            <a href="{{ product.url }}">
                <img id="product_image-{{ product.url }}"  
                    src="{{ product.images | first | image_url: width: 300 }}" 
                    alt="{{ product.title }}" loading='lazy' 
                    width=300 
                    height=300
                    defaultImage="{{ product.images | first | image_url: width: 300 }}"
                />
            </a>  
            {% assign tempPrice=product.price | divided_by: 100.00 | round: 2 %}
            {% assign tempPrice=tempPrice | append: 'â‚¬' %}

            <h2>{{ tempPrice }}</h2>
            <div class="container_input">
                {% assign colors_list = section.settings.colors | newline_to_br | split: '<br />' %}
                <style>
                    {%- for color in colors_list -%}
                      {%- assign css = color | split: '|' -%}
                      .color_{{ css[0] | handle }} { 
                        accent-color:{{ css[1]}}
                    }
                      {%- comment -%}In this example I'm using background, you can use whatever you want{%- endcomment -%}
                    {%- endfor -%}
                </style>
                {% for product_option in product.options_with_values %}
                    <p>{{ product_option.name }}:</p>
                
                    {% if product_option.name == 'Color' or product_option.name == 'Colour' %}
                
                        <div>
                        {% for value in product_option.values %}
                            <input
                                id="{{ variant.id }}"
                                onchange=updateProduct(this)
                                type='radio'
                                value="{{ value | handle }}"
                                idImageProd="product_image-{{ product.url }}"  
                                image_hover="{{ variant | image_url }}" 
                                class="color_{{ value | handle }}"
                                {% if product_option.selected_value == value %}checked{% endif %}
                            />
                        {% endfor %}
                        </div>
                    {% endif %}

                {% endfor %}
            </div>
            <div class="container_quantity">
                <quantity-input class="quantity">
                    <button class="quantity__button no-js-hidden" name="minus" type="button">
                      <span class="visually-hidden">{{ 'products.product.quantity.decrease' | t: product: product.title | escape }}</span>
                      {% render 'icon-minus' %}
                    </button>
                    <input class="quantity__input"
                        type="number"
                        name="quantity"
                        id="quantity__input-{{ product.id }}"
                        min="1"
                        value="1"
                      >
                    <button class="quantity__button no-js-hidden" name="plus" type="button">
                      <span class="visually-hidden">{{ 'products.product.quantity.increase' | t: product: product.title | escape }}</span>
                      {% render 'icon-plus' %}
                    </button>
                </quantity-input>
            </div>
            <button
                onclick=addToCart(this)
                id="{{ product.id }}"
                class='button_productgrid'>
                Add to cart
            </button>
        </div>
    {% endfor %}
</div>





{% schema %}
  {
    "name": "Product Section",
    "settings": [
      {
        "type": "textarea",
        "id": "colors",
        "label": "Colors Mapping",
        "default": "black|#000000\nwhite|#ffffff\nblue|#03c2fc"
      }
    ]
  }
{% endschema %}

